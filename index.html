<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOP Generator - Final Precision</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #52525b; } /* Background abu gelap */
        
        /* --- STYLE UTAMA DOKUMEN --- */
        /* Kita buat kelas khusus agar konsisten antara tampilan dan cetak */
        .a4-page {
            width: 210mm; /* Lebar KUNCI A4 */
            min-height: 297mm; /* Tinggi min A4 */
            padding: 15mm 20mm; /* Margin dalam: Atas/Bawah 15mm, Kiri/Kanan 20mm */
            background-color: white;
            color: black;
            box-sizing: border-box; /* Padding dihitung dalam lebar total */
            position: relative;
        }

        /* Tampilan di Layar (User Interface) */
        #sop-viewer-container {
            display: flex;
            justify-content: center;
            padding: 20px;
        }
        
        #sop-document {
            /* Shadow untuk efek kertas di layar */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* --- Helper Styles --- */
        table { width: 100% !important; table-layout: fixed; border-collapse: collapse; }
        td, th { overflow-wrap: break-word; word-wrap: break-word; }
        img { max-width: 100%; height: auto; display: block; }
        
        /* Mencegah pemotongan elemen */
        .avoid-break { page-break-inside: avoid; break-inside: avoid; }
        tr { page-break-inside: avoid; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useRef, useEffect } = React;

        // --- ICONS ---
        const DownloadIcon = () => (
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="7 10 12 15 17 10"></polyline>
            <line x1="12" y1="15" x2="12" y2="3"></line>
          </svg>
        );

        const UploadIcon = () => (
          <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
            <polyline points="17 8 12 3 7 8"></polyline>
            <line x1="12" y1="3" x2="12" y2="15"></line>
          </svg>
        );

        const LoadingIcon = () => (
          <svg className="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <circle className="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" strokeWidth="4"></circle>
            <path className="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
          </svg>
        );

        // --- COMPONENTS ---

        const ImageUploader = ({ label, id, onImageUpload, currentImage, caption }) => {
          const fileInputRef = useRef(null);

          const handleFileChange = (e) => {
            const file = e.target.files[0];
            if (file) {
              const reader = new FileReader();
              reader.onloadend = () => {
                onImageUpload(id, reader.result);
              };
              reader.readAsDataURL(file);
            }
          };

          return (
            <div className="flex flex-col items-center justify-start border border-dashed border-gray-400 rounded p-1 bg-gray-50 hover:bg-gray-100 transition-colors h-full min-h-[140px] box-border relative avoid-break">
              {currentImage ? (
                <div className="relative w-full flex flex-col items-center h-full">
                  <img 
                    src={currentImage} 
                    alt={label} 
                    className="h-[120px] w-auto object-contain rounded shadow-sm"
                  />
                  <button 
                    onClick={() => fileInputRef.current.click()}
                    className="mt-1 text-[10px] text-blue-600 underline cursor-pointer hover:text-blue-800"
                    type="button"
                    data-html2canvas-ignore="true"
                  >
                    Ganti
                  </button>
                  <p className="mt-1 text-[10px] font-bold text-gray-900 text-center leading-tight px-1 uppercase">{label}</p>
                </div>
              ) : (
                <div 
                  onClick={() => fileInputRef.current.click()}
                  className="cursor-pointer text-center w-full py-2 flex flex-col items-center justify-center h-full"
                >
                  <div className="text-gray-400 mb-1"><UploadIcon /></div>
                  <p className="text-[10px] text-gray-600 font-bold leading-tight">{label}</p>
                  <p className="text-[9px] text-gray-400 mt-1" data-html2canvas-ignore="true">Klik upload</p>
                </div>
              )}
              <input 
                type="file" 
                ref={fileInputRef} 
                onChange={handleFileChange} 
                accept="image/*" 
                className="hidden" 
                data-html2canvas-ignore="true"
              />
              {caption && (
                <div className="mt-auto pt-1 w-full border-t border-gray-200">
                    <p className="text-[9px] text-gray-700 text-center leading-tight italic">{caption}</p>
                </div>
              )}
            </div>
          );
        };

        const SectionHeader = ({ title }) => (
          <div className="mt-6 mb-3 border-b-2 border-black pb-1 w-full">
            <h2 className="text-lg font-bold uppercase text-gray-900">
                {title}
            </h2>
          </div>
        );

        const TableHeader = ({ children }) => (
          <th className="border border-black px-2 py-1.5 bg-gray-200 text-center text-xs font-bold uppercase tracking-wider text-black">
            {children}
          </th>
        );

        const TableCell = ({ children, className = "", align = "center" }) => (
          <td className={`border border-black px-2 py-1.5 text-xs align-middle text-${align} ${className} text-black`}>
            {children}
          </td>
        );

        const ImageGrid = ({ sectionId, count, labels, captions, images, onUpload }) => {
          return (
            <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4">
              {Array.from({ length: count }).map((_, idx) => (
                <div key={`${sectionId}_${idx}`} className="flex flex-col h-full bg-white p-1 rounded">
                    <ImageUploader
                    id={`${sectionId}_${idx}`}
                    label={labels[idx] || `Foto ${idx + 1}`}
                    currentImage={images[`${sectionId}_${idx}`]}
                    onImageUpload={onUpload}
                    caption={captions && captions[idx] ? captions[idx] : null}
                    />
                </div>
              ))}
            </div>
          );
        };

        const SectionWrapper = ({ children, className = "" }) => (
          <div className={`mb-6 avoid-break ${className}`}>
            {children}
          </div>
        );

        function SOPGenerator() {
          const [images, setImages] = useState({});
          const [isLibraryLoaded, setIsLibraryLoaded] = useState(false);
          const [isGenerating, setIsGenerating] = useState(false);

          useEffect(() => {
            const script = document.createElement('script');
            script.src = "https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js";
            script.onload = () => setIsLibraryLoaded(true);
            script.onerror = () => alert("Gagal memuat pustaka PDF. Refresh halaman.");
            document.body.appendChild(script);

            return () => {
              document.body.removeChild(script);
            }
          }, []);

          const handleImageUpload = (id, url) => {
            setImages(prev => ({ ...prev, [id]: url }));
          };

          const handleDownloadPDF = () => {
            if (!isLibraryLoaded) {
              alert("Tunggu sebentar, sistem sedang memuat...");
              return;
            }

            setIsGenerating(true);
            
            // 1. Dapatkan elemen asli
            const element = document.getElementById('sop-document');
            
            // 2. Clone (Salin) elemen tersebut
            const clone = element.cloneNode(true);
            
            // 3. Konfigurasi CLONE untuk PDF (Wajib agar tidak terpotong)
            // Hilangkan shadow, margin, dan paksa lebar A4
            clone.style.margin = '0';
            clone.style.boxShadow = 'none';
            clone.style.width = '210mm'; // Pastikan lebar tetap A4
            clone.style.maxWidth = '210mm';
            clone.style.height = 'auto';
            
            // 4. Buat Container Tersembunyi (Isolation Chamber)
            // Ini trik agar html2canvas memotret area yang bersih dan full-width
            const container = document.createElement('div');
            container.style.position = 'fixed';
            container.style.top = '0';
            container.style.left = '0';
            container.style.width = '210mm'; // Lebar Container = Lebar A4
            container.style.zIndex = '-9999'; // Sembunyikan di belakang
            
            container.appendChild(clone);
            document.body.appendChild(container);

            // 5. Opsi PDF
            const opt = {
              margin:       0, // Margin nol karena kita sudah pakai padding di CSS
              filename:     'SOP_Packing_Clean.pdf',
              image:        { type: 'jpeg', quality: 0.98 },
              html2canvas:  { 
                scale: 2, 
                useCORS: true, 
                scrollY: 0, 
                scrollX: 0,
                x: 0,
                y: 0,
                logging: false,
                backgroundColor: '#ffffff', // Wajib putih agar tidak hitam
                windowWidth: 800 // Lebar virtual window (sedikit > 794px A4) agar tidak cutoff kanan
              },
              jsPDF:        { unit: 'mm', format: 'a4', orientation: 'portrait' },
              pagebreak:    { mode: ['avoid-all', 'css', 'legacy'] } 
            };

            // 6. Generate dari CLONE (bukan tampilan layar)
            window.html2pdf()
              .from(clone)
              .set(opt)
              .save()
              .then(() => {
                document.body.removeChild(container);
                setIsGenerating(false);
              })
              .catch((err) => {
                console.error(err);
                if (document.body.contains(container)) {
                    document.body.removeChild(container);
                }
                setIsGenerating(false);
                alert("Gagal membuat PDF. Coba refresh.");
              });
          };

          return (
            <div className="min-h-screen p-4 font-sans text-gray-900 relative">
              
              {/* Control Panel (Fixed Top) */}
              <div className="sticky top-4 z-50 w-full max-w-[210mm] mx-auto mb-6 bg-white p-4 rounded-lg shadow-xl border-l-4 border-blue-600 flex justify-between items-center" data-html2canvas-ignore="true">
                <div>
                  <h1 className="text-xl font-bold text-gray-800">Generator SOP (Fixed Alignment)</h1>
                  <p className="text-sm text-gray-600">
                     Versi final: Layout A4 presisi, tidak terpotong.
                  </p>
                </div>
                <div className="flex flex-col items-end">
                    <button 
                      onClick={handleDownloadPDF}
                      disabled={isGenerating || !isLibraryLoaded}
                      type="button"
                      className={`flex items-center gap-2 text-white px-6 py-3 rounded-lg font-bold shadow-lg transition-all active:scale-95 cursor-pointer ${isGenerating ? 'bg-gray-400 cursor-not-allowed' : 'bg-green-600 hover:bg-green-700'}`}
                    >
                      {isGenerating ? <LoadingIcon /> : <DownloadIcon />}
                      {isGenerating ? 'Memproses...' : 'Download PDF'}
                    </button>
                </div>
              </div>

              {/* View Container: Untuk menampilkan dokumen di tengah layar */}
              <div id="sop-viewer-container">
                  {/* A4 Document Wrapper: Gunakan class a4-page */}
                  <div id="sop-document" className="a4-page">
                    
                    {/* Header */}
                    <div className="text-center mb-8 border-b-4 border-black pb-4">
                      <h1 className="text-2xl font-extrabold uppercase tracking-wider mb-2 text-black">
                        Laporan Standarisasi Operasional Prosedur (SOP)
                        <br />
                        Pengemasan Produk
                      </h1>
                      <div className="flex justify-between items-end mt-2 text-sm font-bold text-gray-700 border-t border-gray-300 pt-2">
                        <span>Divisi: Gudang & Logistik</span>
                        <span>Tanggal: {new Date().toLocaleDateString('id-ID', { year: 'numeric', month: 'long', day: 'numeric' })}</span>
                      </div>
                    </div>

                    {/* I. PENDAHULUAN */}
                    <SectionWrapper>
                        <SectionHeader title="I. Pendahuluan" />
                        <p className="text-justify text-xs mb-4 leading-relaxed text-gray-800">
                        Laporan ini bertujuan menetapkan standar tunggal dalam penggunaan material kemasan (<i>box, bubble wrap,</i> dan <i>bubble mailer</i>) untuk menjamin keamanan produk, efisiensi biaya, dan konsistensi paket yang diterima pelanggan. Standar ini mencakup aturan untuk produk reguler, penanganan khusus produk susu, produk blister, Heilung, serta pengecualian untuk produk berdimensi besar/product eksis/JLP.
                        </p>
                    </SectionWrapper>

                    {/* II. SPESIFIKASI KODE BOX */}
                    <SectionWrapper>
                        <SectionHeader title="II. Spesifikasi Kode Box" />
                        <p className="text-xs mb-2">Berikut adalah daftar kode box resmi yang wajib digunakan dalam operasional:</p>
                        <table className="w-full border-collapse border border-black mb-4 shadow-sm">
                        <thead>
                            <tr>
                            <TableHeader>KODE</TableHeader>
                            <TableHeader>TIPE UKURAN</TableHeader>
                            <TableHeader>DIMENSI (P x L x T)</TableHeader>
                            <TableHeader>KETERANGAN</TableHeader>
                            </tr>
                        </thead>
                        <tbody>
                            <tr><TableCell><b>BOX</b></TableCell><TableCell>Kecil</TableCell><TableCell>7 x 7 x 17 cm</TableCell><TableCell align="left">Satuan Terkecil</TableCell></tr>
                            <tr><TableCell><b>BPS-K</b></TableCell><TableCell>Sedang</TableCell><TableCell>7 x 14.5 x 20.5 cm</TableCell><TableCell align="left">Box Packing Sedang</TableCell></tr>
                            <tr><TableCell><b>BPS-B</b></TableCell><TableCell>Besar</TableCell><TableCell>12.5 x 10 x 19.5 cm</TableCell><TableCell align="left">Box Packing Besar</TableCell></tr>
                            <tr><TableCell><b>MAILER-K</b></TableCell><TableCell>Amplop Bubble Kecil</TableCell><TableCell>-</TableCell><TableCell align="left">Blister (1 Pcs) / Heilung (1-2 Pcs)</TableCell></tr>
                            <tr><TableCell><b>MAILER-B</b></TableCell><TableCell>Amplop Bubble Besar</TableCell><TableCell>-</TableCell><TableCell align="left">Blister (2 Pcs) / Heilung (3 Pcs)</TableCell></tr>
                        </tbody>
                        </table>
                        
                        <p className="text-[10px] font-bold mb-2 uppercase tracking-wide text-gray-600">Lampiran Visual Fisik Box:</p>
                        <div className="grid grid-cols-2 md:grid-cols-3 gap-4 mb-4">
                            <div className="bg-white p-1 rounded"><ImageUploader id="box1" label="Box Kecil" currentImage={images['box1']} onImageUpload={handleImageUpload} caption="Produk satuan/kecil."/></div>
                            <div className="bg-white p-1 rounded"><ImageUploader id="box2" label="Box Sedang (BPS-K)" currentImage={images['box2']} onImageUpload={handleImageUpload} caption="Kapasitas 4-9 pcs reguler."/></div>
                            <div className="bg-white p-1 rounded"><ImageUploader id="box3" label="Box Besar (BPS-B)" currentImage={images['box3']} onImageUpload={handleImageUpload} caption="Produk genap/banyak."/></div>
                            <div className="bg-white p-1 rounded"><ImageUploader id="box4" label="Mailer Kecil" currentImage={images['box4']} onImageUpload={handleImageUpload} caption="Blister/Heilung (kecil)."/></div>
                            <div className="bg-white p-1 rounded"><ImageUploader id="box5" label="Mailer Besar" currentImage={images['box5']} onImageUpload={handleImageUpload} caption="Heilung 3 pcs/lebar."/></div>
                        </div>
                    </SectionWrapper>

                    {/* III. MARKING */}
                    <SectionWrapper>
                        <SectionHeader title="III. Standarisasi Penandaan Box (Marking)" />
                        <div className="text-xs mb-4 bg-gray-50 p-3 rounded border border-gray-200">
                            <p className="mb-2 font-semibold">Instruksi Penandaan:</p>
                            <ul className="list-disc pl-5 space-y-1">
                                <li><strong>Alat Tulis:</strong> Wajib menggunakan <strong>Spidol Permanen</strong> (hitam/biru tua) agar jelas & tahan air.</li>
                                <li><strong>Lokasi:</strong> Ditulis pada sisi box yang rata dan terlihat jelas (hindari lipatan lakban).</li>
                                <li><strong>Format:</strong> <code>[KODE/SINGKATAN] [ANGKA QTY]</code>.</li>
                            </ul>
                        </div>
                        <ImageGrid 
                            sectionId="marking" 
                            count={2} 
                            labels={["Posisi Marking", "Kejelasan Tulisan"]}
                            captions={[
                                "Tulis di area kosong sisi box yang rata. Jangan menimpa lakban segel.",
                                "Gunakan huruf kapital yang tegas. Contoh: 'SUSU 2' atau 'SRM 5'."
                            ]}
                            images={images} 
                            onUpload={handleImageUpload} 
                        />
                    </SectionWrapper>

                    {/* IV. BUBBLE WRAP */}
                    <SectionWrapper>
                        <SectionHeader title="IV. Teknis Penggunaan Bubble Wrap (Konsolidasi)" />
                        <div className="bg-red-50 border-l-4 border-red-500 p-2 mb-4">
                            <p className="text-xs text-red-700">
                                <strong>PENTING:</strong> Dilarang melakukan wrapping terpisah jika produk masuk ke dalam 1 box yang sama.
                            </p>
                        </div>

                        <div className="grid grid-cols-3 gap-4 mb-4">
                            <div className="flex flex-col h-full bg-white p-1 rounded">
                                <ImageUploader id="bw_single" label="1. Single Product" currentImage={images['bw_single']} onImageUpload={handleImageUpload} caption="Single Product: Produk langsung dibalut 2 lapis BW." />
                            </div>
                            <div className="flex flex-col h-full bg-white p-1 rounded">
                                <ImageUploader id="bw_stack" label="2. Stacking (Tumpuk)" currentImage={images['bw_stack']} onImageUpload={handleImageUpload} caption="Sejenis: Tumpuk vertikal agar presisi, lalu wrap jadi satu." />
                            </div>
                            <div className="flex flex-col h-full bg-white p-1 rounded">
                                <ImageUploader id="bw_align" label="3. Alignment (Jajar)" currentImage={images['bw_align']} onImageUpload={handleImageUpload} caption="Beda Jenis: Susun berdampingan menyamakan sisi." />
                            </div>
                        </div>
                    </SectionWrapper>

                    {/* V. BLISTER */}
                    <SectionWrapper>
                        <SectionHeader title="V. Standarisasi: Produk XYZ Blister" />
                        <p className="text-xs mb-2">
                            <strong>Aturan Dasar:</strong> 1-2 Pcs wajib pakai Bubble Mailer. Di atas 2 Pcs gunakan Box.
                        </p>
                        <table className="w-full border-collapse border border-black mb-4 shadow-sm">
                            <thead>
                                <tr>
                                    <TableHeader>QTY</TableHeader>
                                    <TableHeader>KEMASAN</TableHeader>
                                    <TableHeader>JML BOX</TableHeader>
                                    <TableHeader>KODE</TableHeader>
                                    <TableHeader>KETERANGAN</TableHeader>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><TableCell>1 - 2</TableCell><TableCell>Mailer Kecil</TableCell><TableCell>1 Pcs</TableCell><TableCell>MAILER-K</TableCell><TableCell align="left">Lapis BW + Amplop</TableCell></tr>
                                <tr><TableCell>3 - 6</TableCell><TableCell>Box Kecil</TableCell><TableCell>1 Box</TableCell><TableCell>BOX</TableCell><TableCell align="left">Disusun rapi</TableCell></tr>
                                <tr><TableCell>7 - 18</TableCell><TableCell>Box Sedang</TableCell><TableCell>1 Box</TableCell><TableCell>BPS-K</TableCell><TableCell align="left">Disusun rapi</TableCell></tr>
                                <tr><TableCell>&gt; 18</TableCell><TableCell>Box Besar</TableCell><TableCell>1 Box</TableCell><TableCell>BPS-B</TableCell><TableCell align="left">Sesuai dimensi</TableCell></tr>
                            </tbody>
                        </table>
                        <ImageGrid 
                            sectionId="blister" 
                            count={4} 
                            labels={["Blister Mailer", "Blister Box Kecil", "Blister Box Sedang", "Blister Box Besar"]}
                            captions={[
                                "Lapis bubble wrap dulu sebelum masuk amplop.",
                                "Susun tegak di BOX kecil. Pastikan tidak goyang.",
                                "Susun padat di BPS-K. Ganjal jika perlu.",
                                "Gunakan BPS-B untuk jumlah banyak."
                            ]}
                            images={images} 
                            onUpload={handleImageUpload} 
                        />
                    </SectionWrapper>

                    {/* VI. REGULER */}
                    <SectionWrapper>
                        <SectionHeader title="VI. Standarisasi: Produk Reguler" />
                        <div className="grid grid-cols-2 gap-6 mb-4">
                            <div>
                                <h3 className="font-bold text-xs mb-2 bg-gray-200 p-1.5 text-center border border-gray-400 rounded">A. Produk Sejenis</h3>
                                <table className="w-full border-collapse border border-black shadow-sm">
                                    <thead><tr><TableHeader>Qty</TableHeader><TableHeader>Jml Box</TableHeader><TableHeader>Kode</TableHeader></tr></thead>
                                    <tbody>
                                        <tr><TableCell>1 - 3</TableCell><TableCell>1 Box</TableCell><TableCell>BOX</TableCell></tr>
                                        <tr><TableCell>4 - 9</TableCell><TableCell>1 Box</TableCell><TableCell>BPS-K</TableCell></tr>
                                        <tr><TableCell>&gt; 9</TableCell><TableCell>1/2 Box</TableCell><TableCell>BPS-B</TableCell></tr>
                                    </tbody>
                                </table>
                            </div>
                            <div>
                                <h3 className="font-bold text-xs mb-2 bg-gray-200 p-1.5 text-center border border-gray-400 rounded">B. Produk Beda Jenis</h3>
                                <table className="w-full border-collapse border border-black shadow-sm">
                                    <thead><tr><TableHeader>Qty</TableHeader><TableHeader>Jml Box</TableHeader><TableHeader>Kode</TableHeader></tr></thead>
                                    <tbody>
                                        <tr><TableCell>1 - 2</TableCell><TableCell>1 Box</TableCell><TableCell>BOX</TableCell></tr>
                                        <tr><TableCell>&gt; 2</TableCell><TableCell>1 Box</TableCell><TableCell>BPS-K</TableCell></tr>
                                        <tr><TableCell>&gt; 9</TableCell><TableCell>1/2 Box</TableCell><TableCell>BPS-B</TableCell></tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                        <ImageGrid 
                            sectionId="reguler" 
                            count={3} 
                            labels={["Reguler Kecil (BOX)", "Reguler Sedang (BPS-K)", "Reguler Besar (BPS-B)"]}
                            captions={[
                                "Packing minimalis tanpa rongga berlebih.",
                                "Susun padat produk sejenis/beda jenis.",
                                "Untuk paket bulk/campuran volume besar."
                            ]} 
                            images={images} 
                            onUpload={handleImageUpload} 
                        />
                    </SectionWrapper>

                    {/* VII. SUSU */}
                    <SectionWrapper>
                        <SectionHeader title="VII. Standarisasi: Khusus Produk Susu" />
                        <div className="text-xs mb-3 border-l-4 border-blue-500 bg-blue-50 p-2 rounded">
                            <p className="font-bold mb-1">Aturan Ganjil/Genap:</p>
                            <ul className="list-disc pl-4 space-y-0.5">
                                <li><strong>Qty Ganjil (1, 3, 5):</strong> Gunakan Box Sedang (BPS-K) per pcs.</li>
                                <li><strong>Qty Genap (2, 4, 6):</strong> Gunakan Box Besar (BPS-B) per 2 pcs.</li>
                            </ul>
                        </div>
                        <table className="w-full border-collapse border border-black mb-4 shadow-sm">
                            <thead>
                                <tr>
                                    <TableHeader>QTY</TableHeader>
                                    <TableHeader>POLA</TableHeader>
                                    <TableHeader>JML BOX</TableHeader>
                                    <TableHeader>KODE BOX</TableHeader>
                                    <TableHeader>TEKNIS</TableHeader>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><TableCell>1</TableCell><TableCell>Ganjil</TableCell><TableCell>1 Box</TableCell><TableCell>BPS-K</TableCell><TableCell align="left">Satuan</TableCell></tr>
                                <tr><TableCell>2</TableCell><TableCell>Genap</TableCell><TableCell>1 Box</TableCell><TableCell>BPS-B</TableCell><TableCell align="left">Gabung isi 2</TableCell></tr>
                                <tr><TableCell>3</TableCell><TableCell>Ganjil</TableCell><TableCell>3 Box</TableCell><TableCell>3x BPS-K</TableCell><TableCell align="left">3 box + BW Luar</TableCell></tr>
                                <tr><TableCell>4</TableCell><TableCell>Genap</TableCell><TableCell>2 Box</TableCell><TableCell>2x BPS-B</TableCell><TableCell align="left">2 box + BW Luar</TableCell></tr>
                            </tbody>
                        </table>
                        <ImageGrid 
                            sectionId="susu" 
                            count={3} 
                            labels={["Susu Ganjil (BPS-K)", "Susu Genap (BPS-B)", "Susu Multipack (Wrap)"]} 
                            captions={[
                                "Satu pcs susu masuk presisi ke BPS-K.",
                                "Dua pcs susu masuk ke BPS-B.",
                                "Contoh gabungan 3 box yang di-wrap luar jadi satu."
                            ]}
                            images={images} 
                            onUpload={handleImageUpload} 
                        />
                    </SectionWrapper>

                    {/* VIII. DIMENSI BESAR / PRODUCT EKSIS */}
                    <SectionWrapper>
                        <SectionHeader title="VIII. Pengecualian: Product Eksis" />
                        <p className="text-xs mb-2">Khusus kategori Product Eksis (Foam/Kapsul Besar, Product JLP).</p>
                        <table className="w-full border-collapse border border-black mb-4 shadow-sm">
                            <thead>
                                <tr>
                                    <TableHeader>QTY</TableHeader>
                                    <TableHeader>JML BOX</TableHeader>
                                    <TableHeader>KODE</TableHeader>
                                    <TableHeader>KETERANGAN</TableHeader>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><TableCell>1</TableCell><TableCell>1 Box</TableCell><TableCell>BOX / BPS-K</TableCell><TableCell align="left">Pakai BOX jika muat, jika tidak naik ke BPS-K.</TableCell></tr>
                                <tr><TableCell>2 - 3</TableCell><TableCell>1 Box</TableCell><TableCell>BPS-K</TableCell><TableCell align="left">Wajib BPS-K karena volume.</TableCell></tr>
                                <tr><TableCell>4 - 6</TableCell><TableCell>2 Box</TableCell><TableCell>2x BPS-K</TableCell><TableCell align="left">Dibagi 2 Box.</TableCell></tr>
                            </tbody>
                        </table>
                        <ImageGrid 
                            sectionId="big" 
                            count={4} 
                            labels={["Product Eksis (Satuan)", "Product Eksis (2-3)", "Product Eksis (Multipack)", "Product JLP"]}
                            captions={[
                                "Cek muat/tidaknya di Box kecil sebelum ke BPS-K.",
                                "Wajib BPS-K agar produk tidak tertekan.",
                                "Jika lebih dari 4, pisah jadi 2 paket (2x BPS-K).",
                                "Contoh packing khusus product JLP."
                            ]}
                            images={images} 
                            onUpload={handleImageUpload} 
                        />
                    </SectionWrapper>

                    {/* IX. KHUSUS PRODUCT HEILUNG 10 ML */}
                    <SectionWrapper>
                        <SectionHeader title="IX. Standarisasi: Product Heilung 10ml" />
                        <p className="text-xs mb-2">
                            <strong>Aturan Khusus:</strong> Menggunakan kombinasi Mailer Kecil dan Besar sesuai Qty.
                        </p>
                        <table className="w-full border-collapse border border-black mb-4 shadow-sm">
                            <thead>
                                <tr>
                                    <TableHeader>QTY</TableHeader>
                                    <TableHeader>KEMASAN</TableHeader>
                                    <TableHeader>JML BOX/MAILER</TableHeader>
                                    <TableHeader>KODE</TableHeader>
                                    <TableHeader>KETERANGAN</TableHeader>
                                </tr>
                            </thead>
                            <tbody>
                                <tr><TableCell>1 - 2</TableCell><TableCell>Mailer Kecil</TableCell><TableCell>1 Pcs</TableCell><TableCell>MAILER-K</TableCell><TableCell align="left">Wajib lapis Bubble Wrap.</TableCell></tr>
                                <tr><TableCell>3</TableCell><TableCell>Mailer Besar</TableCell><TableCell>1 Pcs</TableCell><TableCell>MAILER-B</TableCell><TableCell align="left">Wajib lapis Bubble Wrap.</TableCell></tr>
                                <tr><TableCell>4 - 6</TableCell><TableCell>Box Sedang</TableCell><TableCell>1 Box</TableCell><TableCell>BPS-K</TableCell><TableCell align="left">Gunakan BPS-K sesuai muatan.</TableCell></tr>
                                <tr><TableCell>&gt; 6</TableCell><TableCell>Box Besar</TableCell><TableCell>1 Box</TableCell><TableCell>BPS-B</TableCell><TableCell align="left">Gunakan BPS-B untuk Qty banyak.</TableCell></tr>
                            </tbody>
                        </table>
                        <ImageGrid 
                            sectionId="heilung" 
                            count={3} 
                            labels={["Heilung (Mailer Kecil)", "Heilung (Mailer Besar)", "Heilung Box"]}
                            captions={[
                                "Isi 1-2 pcs masuk ke Mailer Kecil.",
                                "Isi 3 pcs masuk ke Mailer Besar.",
                                "Isi > 3 pcs wajib menggunakan Box."
                            ]}
                            images={images} 
                            onUpload={handleImageUpload} 
                        />
                    </SectionWrapper>

                    {/* Footer */}
                    <div className="mt-12 pt-4 border-t-2 border-gray-400 flex justify-between text-[10px] text-gray-500 italic">
                        <span>Dokumen Standarisasi Pengemasan - Gudang & Logistik</span>
                        <span>Halaman Otomatis</span>
                    </div>

                  </div>
              </div>
            </div>
          );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SOPGenerator />);
    </script>
</body>
</html>
